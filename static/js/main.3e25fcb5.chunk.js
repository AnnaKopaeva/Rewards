(this.webpackJsonprewards=this.webpackJsonprewards||[]).push([[0],{324:function(e,r,t){"use strict";t.r(r);var n,a,c=t(0),i=t(37),o=t(20),s=t(378),d=t(173),u="#FFF",l="#6259F0",j="#E0E5EC",b="#A1ABB8",h=Object(d.a)({palette:{primary:{main:l,contrastText:u},grey:{A200:j,A400:b}},typography:{fontFamily:["Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),p=t(14),f=t(24),x=t(40),m=t(62),O=t.n(m),g=t(91),w=t(163),v=t.n(w),y=function(){var e=Object(g.a)(O.a.mark((function e(r){var t,n,a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.url,n=r.method,a=r.data,e.next=3,v()({url:t,method:n,data:a});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),C=y,k=t(17),B=Object(k.a)({},{baseApiUrl:"https://jsonplaceholder.typicode.com/users"}),S=Object(f.b)("users/fetch",Object(g.a)(O.a.mark((function e(){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({url:B.baseApiUrl});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))),R=Object(f.c)({name:"profile",initialState:{data:null,isLoaded:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(S.pending,(function(e){e.isLoaded=!1})),e.addCase(S.fulfilled,(function(e,r){var t=r.payload;e.isLoaded=!0,e.data=t.length?t[0]:null})),e.addCase(S.rejected,(function(e,r){var t=r.payload;e.error=t}))}}).reducer,T=Object(f.c)({name:"users",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:function(e){e.addCase(S.pending,(function(e){e.loading=!0})),e.addCase(S.fulfilled,(function(e,r){var t=r.payload;e.loading=!1,e.data=t})),e.addCase(S.rejected,(function(e){e.loading=!1}))}}).reducer,L=[{id:1,user:{id:4,name:"Patricia Lebsack"},userBy:{id:2,name:"Ervin Howell"},rewardCount:100,rewardCurrency:"$",time:1635348e3,message:"Big thanks for your help in helping on the outage today!!!"},{id:2,user:{id:3,name:"Clementine Bauch"},userBy:{id:4,name:"Patricia Lebsack"},rewardCount:150,rewardCurrency:"$",time:1635345010,message:"Thanks for your help in creating the product overview deck. Your help to show cases those scenarios really helped in closing the loop on the story."},{id:3,user:{id:1,name:"Leanne Graham"},userBy:{id:2,name:"Ervin Howell"},rewardCount:100,rewardCurrency:"$",time:1635348e3,message:"Big thanks for your help in helping on the outage today!!!"},{id:4,user:{id:2,name:"Ervin Howell"},userBy:{id:4,name:"Patricia Lebsack"},rewardCount:150,rewardCurrency:"$",time:1635345010,message:"Thanks for your help in creating the product overview deck. "}],I=Object(f.b)("rewards/fetch",(function(){return L})),E=Object(f.c)({name:"rewards",initialState:{data:[],loading:!0,error:null},reducers:{createReward:function(e,r){e.data=[].concat(Object(p.a)(e.data),[r.payload])}},extraReducers:function(e){e.addCase(I.pending,(function(e){e.loading=!0})),e.addCase(I.fulfilled,(function(e,r){var t=r.payload;e.loading=!1,e.data=t})),e.addCase(I.rejected,(function(e){e.loading=!1}))}}),z=E.actions.createReward,F=E.reducer,A=[{id:1,user:{id:1,name:"Leanne Graham"},userBy:{id:4,name:"Patricia Lebsack"},rewardCount:40,rewardCurrency:"$",time:1635348e3,message:"Big thanks for your work today."},{id:2,user:{id:1,name:"Leanne Graham"},userBy:{id:2,name:"Ervin Howell"},rewardCount:80,rewardCurrency:"$",time:1635345010,message:"Thanks for your help in creating the product overview deck."},{id:3,user:{id:1,name:"Leanne Graham"},userBy:{id:4,name:"Patricia Lebsack"},rewardCount:70,rewardCurrency:"$",time:1635348e3,message:"Big thanks for your work today."}],P=Object(f.b)("rewards/fetchByUser",(function(e){return A})),D=Object(f.c)({name:"rewards",initialState:{data:[],loading:!0,error:null},reducers:{createMyReward:function(e,r){e.data=[].concat(Object(p.a)(e.data),[r.payload])}},extraReducers:function(e){e.addCase(P.pending,(function(e){e.loading=!0})),e.addCase(P.fulfilled,(function(e,r){var t=r.payload;e.loading=!1,e.data=t})),e.addCase(P.rejected,(function(e){e.loading=!1}))}}),M=D.actions.createMyReward,W=D.reducer,$=Object(x.b)({profile:R,users:T,rewards:F,myRewards:W}),U=Object(f.a)({reducer:$,middleware:Object(p.a)(Object(f.d)())}),H=t(381),G=t(382),q=t(372),N=t(12),Y={tabs:{borderBottom:function(e){return"1px solid ".concat(e.palette.grey.A400)}},tab:{fontSize:"1.2rem",fontWeight:400,padding:"5px 20px",borderBottom:"2px solid transparent",textTransform:"capitalize",borderRadius:0,color:"grey.900"},activeTab:{borderBottom:function(e){return"2px solid ".concat(e.palette.primary.main)},color:"primary.main"}},J=t(1),V=function(e){var r=e.tabsList,t=e.changeTab,n=e.activeTab;return Object(J.jsx)(H.a,{sx:Y.tabs,children:r.map((function(e){return Object(J.jsx)(G.a,{type:"button",sx:e===n?Object(k.a)(Object(k.a)({},Y.tab),Y.activeTab):Y.tab,onClick:function(){return t(e)},children:e},e)}))})},K=function(e){var r,t,n=e.children,a=c.useState(null===(r=n[0])||void 0===r?void 0:r.props.label),i=Object(N.a)(a,2),o=i[0],s=i[1],d=[];return Object(J.jsxs)(J.Fragment,{children:[c.Children.map(n,(function(e){d.push(e.props.label),e.props.label===o&&(t=e.props.children)})),Object(J.jsx)(V,{activeTab:o,tabsList:d,changeTab:function(e){s(e)}}),t]})},Q=function(e){e.label;var r=e.children;return Object(J.jsx)(J.Fragment,{children:r})},X=t(22),Z=function(e){return e.profile},_=Object(X.a)(Z,(function(e){return e.data})),ee=Object(X.a)(Z,(function(e){return e.isLoaded})),re=(Object(X.a)(Z,(function(e){return e.error})),function(e){return e.rewards}),te=Object(X.a)(re,(function(e){return e.data})),ne=Object(X.a)(re,(function(e){return e.loading})),ae=Object(X.a)(re,_,(function(e,r){var t=e.data.filter((function(e){return e.userBy.id===r.id}));return t.reduce((function(e,r){return e+ +r.rewardCount}),0)})),ce=function(e){return e.myRewards},ie=Object(X.a)(ce,(function(e){return e.data})),oe=(Object(X.a)(ce,(function(e){return e.loading})),Object(X.a)(ce,(function(e){return e.data.reduce((function(e,r){return e+ +r.rewardCount}),0)}))),se=t(377),de=t(379),ue=t(383),le=t(101),je=t(380),be=t(366);!function(e){e.s="s",e.m="m"}(n||(n={})),function(e){e.dollar="$"}(a||(a={}));var he=function(e){return{avatar:Object(k.a)({bgcolor:"grey.A200"},e===n.s?{width:40,height:40}:{width:100,height:100}),icon:Object(k.a)({color:"grey.A400"},e===n.s?{fontSize:"1.25rem"}:{fontSize:"2.5rem"})}},pe=["size"],fe=function(e){var r=e.size,t=void 0===r?n.s:r,a=Object(le.a)(e,pe),c=he(t),i=c.avatar,o=c.icon;return Object(J.jsx)(je.a,Object(k.a)(Object(k.a)({},a),{},{sx:Object(k.a)(Object(k.a)({},a.sx),i),children:Object(J.jsx)(be.a,{sx:o})}))},xe={rewards:{display:"flex",flexDirection:"column",maxHeight:"calc(100vh - 330px)",overflowY:"auto"},rewardItem:{display:"flex",flexDirection:"row",mt:5},rewardDetails:{pl:2},rewardTime:{fontSize:"0.6rem"},rewardMessage:{fontSize:"1rem"}},me=function(){return Object(J.jsx)(H.a,{children:L.map((function(e){return Object(J.jsxs)(H.a,{sx:xe.rewardItem,children:[Object(J.jsx)(de.a,{variant:"circular",height:40,children:Object(J.jsx)(fe,{})}),Object(J.jsxs)(H.a,{sx:Object(k.a)(Object(k.a)({},xe.rewardDetails),{},{width:"80%"}),children:[Object(J.jsx)(de.a,{width:"60%",children:Object(J.jsx)(ue.a,{children:"."})}),Object(J.jsx)(de.a,{width:"20%"}),Object(J.jsx)(de.a,{height:40})]})]},e.id)}))})},Oe=t(75),ge=t.n(Oe),we=t(166),ve=t.n(we),ye={panel:{textAlign:"center",padding:"50px 0"}},Ce=function(e){var r=e.title,t=void 0===r?"No data found":r,n=e.children,a=void 0===n?"":n;return Object(J.jsxs)(H.a,{sx:ye.panel,children:[Object(J.jsx)(ue.a,{variant:"h5",gutterBottom:!0,fontSize:20,component:"h5",children:t}),Object(J.jsx)(ue.a,{variant:"h6",gutterBottom:!0,fontSize:14,component:"h6",children:a})]})},ke=function(e){var r=e.data;return ge.a.extend(ve.a),Object(J.jsx)(J.Fragment,{children:r.length?r.map((function(e){var r,t;return Object(J.jsxs)(H.a,{sx:xe.rewardItem,children:[Object(J.jsx)(fe,{}),Object(J.jsxs)(H.a,{sx:xe.rewardDetails,children:[Object(J.jsxs)(ue.a,{gutterBottom:!0,variant:"caption",children:[null===(r=e.user)||void 0===r?void 0:r.name," rewarded by ",null===(t=e.userBy)||void 0===t?void 0:t.name]}),Object(J.jsx)(ue.a,{display:"block",variant:"caption",color:"text.secondary",sx:xe.rewardTime,children:ge.a.unix(e.time).fromNow()}),Object(J.jsx)(ue.a,{variant:"caption",color:"text.secondary",sx:xe.rewardMessage,children:e.message})]})]},e.id)})):Object(J.jsx)(Ce,{children:"You can add new reward."})})},Be=function(e){var r=e.data,t=Object(o.c)(ne);return Object(J.jsx)(se.a,{container:!0,wrap:"nowrap",sx:xe.rewards,children:t?Object(J.jsx)(me,{}):Object(J.jsx)(ke,{data:r})})},Se={feed:{mt:4,position:"relative"},addBtn:{minWidth:"50px",height:"50px",position:"absolute",top:"18px",right:"20px",border:"1px solid",borderRadius:"50%",padding:0,bgcolor:"primary.contrastText","&:hover":{bgcolor:"primary.contrastText",boxShadow:2}}},Re=t(123),Te=t(374),Le=t(375),Ie={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4}},Ee=function(e){var r=e.children,t=e.isOpen,n=e.onClose;return Object(J.jsx)(Le.a,{open:t,onClose:n,children:Object(J.jsx)(H.a,{sx:Ie.modal,children:r})})},ze=t(3),Fe=t(373);var Ae=function(e){var r=e.options,t=e.form,n=e.field,a=e.textFieldProps,c=n.name,i=t.setTouched,o=t.setFieldValue;return Object(J.jsx)(Fe.a,Object(k.a)(Object(k.a)({},n),{},{options:r,fullWidth:!0,getOptionLabel:function(e){return e.name},onChange:function(e,r){return o(c,r)},onBlur:function(){return i(Object(ze.a)({},c,!0))},renderInput:function(e){return Object(J.jsx)(Te.a,Object(k.a)(Object(k.a)({},e),{},{fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:Object(k.a)(Object(k.a)({},e.InputProps),{},{placeholder:a.placeholder})},a))}}))},Pe=t(78),De="Should be less that ".concat(10," symbols"),Me=Pe.a().shape({user:Pe.a().shape({name:Pe.b()}).required("User is required").nullable(),rewardCount:Pe.b().max(10,De).required("Reward is required")}),We=function(e){return e.users},$e=Object(X.a)(We,(function(e){return e.data})),Ue=(Object(X.a)(We,(function(e){return e.loading})),Object(X.a)(We,(function(e){return e.error})),function(){var e=Object(o.b)(),r=Object(o.c)(_);return{initialReward:{id:Date.now(),user:null,rewardCount:"",rewardCurrency:"$",message:"",time:ge()().unix(),userBy:r},onSubmit:function(t){e(z(t)),r.id===t.user.id&&e(M(t))}}}),He={form:{display:"flex",flexDirection:"column",alignItems:"center"},btn:{margin:"20px 0 0",bgcolor:"palette.primary.main",textTransform:"capitalize",fontSize:"1.1rem",width:"100px"}},Ge=function(e){var r=e.open,t=e.onClose,n=Object(o.c)($e),a=Ue(),c=a.initialReward,i=a.onSubmit;return Object(J.jsx)(Ee,{isOpen:r,onClose:t,children:Object(J.jsx)(Re.b,{initialValues:c,validationSchema:Me,onSubmit:function(e){i(e),t()},children:function(e){var r=e.values,t=e.touched,a=e.errors,c=e.handleChange,i=e.handleSubmit;return Object(J.jsx)("form",{onSubmit:i,children:Object(J.jsxs)(H.a,{sx:He.form,children:[Object(J.jsx)(Re.a,{name:"user",component:function(e){return Object(J.jsx)(Ae,Object(k.a)(Object(k.a)({},e),{},{options:n,textFieldProps:{label:"To",placeholder:"Select User",helperText:t.user&&a.user,error:Boolean(t.user&&a.user)}}))}}),Object(J.jsx)(Te.a,{name:"rewardCount",type:"number",label:"Reward",InputProps:{placeholder:"Enter rewards"},fullWidth:!0,margin:"normal",value:r.rewardCount,InputLabelProps:{shrink:!0},helperText:t.rewardCount&&a.rewardCount,error:Boolean(t.rewardCount&&a.rewardCount),onChange:c}),Object(J.jsx)(Te.a,{name:"message",multiline:!0,rows:4,label:"Why?",fullWidth:!0,margin:"normal",value:r.message,InputLabelProps:{shrink:!0},onChange:c}),Object(J.jsx)(G.a,{color:"primary",type:"submit",variant:"contained",sx:He.btn,children:"Reward"})]})})}})})},qe=function(){var e=c.useState(!1),r=Object(N.a)(e,2),t=r[0],n=r[1];return{open:t,handleOpenModal:function(){return n(!0)},handleCloseModal:function(){return n(!1)}}},Ne=function(){var e=Object(o.b)(),r=Object(o.c)(_),t=Object(o.c)(te),n=Object(o.c)(ie),a=qe(),i=a.open,s=a.handleOpenModal,d=a.handleCloseModal;return Object(c.useEffect)((function(){e(I()),e(P(r.id))}),[]),Object(J.jsxs)(H.a,{sx:Se.feed,children:[Object(J.jsxs)(K,{children:[Object(J.jsx)(Q,{label:"Feed",children:Object(J.jsx)(Be,{data:t})}),Object(J.jsx)(Q,{label:"My Rewards",children:Object(J.jsx)(Be,{data:n})})]}),Object(J.jsx)(G.a,{sx:Se.addBtn,onClick:s,children:Object(J.jsx)(q.a,{})}),Object(J.jsx)(Ge,{open:i,onClose:d})]})},Ye={count:{mx:1,fontSize:"1.25rem",fontWeight:500}},Je=function(e){var r=e.value,t=e.currency,n=void 0===t?a.dollar:t;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(ue.a,{sx:Ye.count,children:[r,n]})})},Ve={avatar:{display:"flex",flexDirection:"column",alignItems:"center",mr:8},name:{fontSize:"1rem",mt:1,minWidth:"115px",minHeight:"24px"}},Ke=function(){var e=Object(o.c)(_);return Object(J.jsxs)(H.a,{sx:Ve.avatar,children:[Object(J.jsx)(fe,{size:n.m}),e?Object(J.jsx)(ue.a,{sx:Ve.name,children:e.name}):Object(J.jsx)(de.a,{sx:Ve.name})]})},Qe={header:{display:"flex",alignItems:"center"},details:{display:"flex",flexDirection:"row"},block:{mr:10}},Xe=function(){var e=Object(o.c)(oe),r=Object(o.c)(ae);return Object(J.jsxs)(se.a,{container:!0,sx:Qe.header,children:[Object(J.jsx)(Ke,{}),Object(J.jsxs)(H.a,{sx:Qe.details,children:[Object(J.jsxs)(H.a,{sx:Qe.block,children:[Object(J.jsx)(ue.a,{gutterBottom:!0,children:"My Rewards"}),Object(J.jsx)(Je,{value:e})]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)(ue.a,{gutterBottom:!0,children:"Give"}),Object(J.jsx)(Je,{value:r})]})]})]})},Ze=t(15),_e=t(16),er=t(23),rr=t(25),tr=t(384),nr={box:{display:"flex",margin:"auto",width:"100vw",height:"100vh",justifyContent:"center",alignItems:"center"}},ar=function(){return Object(J.jsx)(H.a,{sx:nr.box,children:Object(J.jsx)(tr.a,{})})},cr=["loading"],ir=function(e){return function(r){Object(er.a)(n,r);var t=Object(rr.a)(n);function n(){return Object(Ze.a)(this,n),t.apply(this,arguments)}return Object(_e.a)(n,[{key:"render",value:function(){var r=this.props,t=r.loading,n=Object(le.a)(r,cr);return t?Object(J.jsx)(ar,{}):Object(J.jsx)(e,Object(k.a)({},n))}}]),n}(c.Component)},or={layout:{width:"60%",margin:"100px auto 0"}},sr=ir((function(e){var r=e.children;return Object(J.jsx)(H.a,{sx:or.layout,children:r})})),dr=function(e){var r=e.children,t=Object(o.b)(),n=Object(o.c)(ee);return c.useEffect((function(){t(S())}),[t]),Object(J.jsx)(sr,{loading:!n,children:r})},ur=t(172),lr=t.n(ur),jr={wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},icon:{fontSize:"4rem",color:"error.main"}},br=function(e){Object(er.a)(t,e);var r=Object(rr.a)(t);function t(){var e;Object(Ze.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=r.call.apply(r,[this].concat(a))).state={hasError:!1},e}return Object(_e.a)(t,[{key:"componentDidCatch",value:function(e,r){console.error("Uncaught error:",e,r)}},{key:"render",value:function(){return this.state.hasError?Object(J.jsxs)(H.a,{sx:jr.wrapper,children:[Object(J.jsx)(lr.a,{sx:jr.icon}),Object(J.jsx)("h1",{children:"Sorry.. there was an error"})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(c.Component),hr=br,pr=function(){return Object(J.jsx)(hr,{children:Object(J.jsxs)(dr,{children:[Object(J.jsx)(Xe,{}),Object(J.jsx)(Ne,{})]})})};Object(i.render)(Object(J.jsx)(o.a,{store:U,children:Object(J.jsx)(s.a,{theme:h,children:Object(J.jsx)(pr,{})})}),document.getElementById("root"))}},[[324,1,2]]]);
//# sourceMappingURL=main.3e25fcb5.chunk.js.map